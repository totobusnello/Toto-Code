{
  "env": {
    "CLAUDE_FLOW_AUTO_COMMIT": "false",
    "CLAUDE_FLOW_AUTO_PUSH": "false",
    "CLAUDE_FLOW_HOOKS_ENABLED": "true",
    "CLAUDE_FLOW_TELEMETRY_ENABLED": "true",
    "CLAUDE_FLOW_REMOTE_EXECUTION": "true",
    "CLAUDE_FLOW_CHECKPOINTS_ENABLED": "true",
    "CLAUDE_FLOW_TRUTH_THRESHOLD": "0.95",
    "CLAUDE_FLOW_VERIFY_MODE": "strict",
    "CLAUDE_FLOW_SECURITY_AUDIT": "true"
  },
  "permissions": {
    "allow": [
      "Bash(npx claude-flow*)",
      "Bash(npm run*)",
      "Bash(npm test*)",
      "Bash(git *)",
      "Bash(jq *)",
      "Bash(node *)",
      "Bash(which *)",
      "Bash(pwd)",
      "Bash(ls *)",
      "Bash(cat *)",
      "Bash(grep *)",
      "Bash(rg *)",
      "Bash(echo *)",
      "Bash(bc *)",
      "Bash(date *)",
      "Bash(head *)",
      "Bash(tail *)"
    ],
    "deny": [
      "Bash(rm -rf /)",
      "Bash(curl * | bash)",
      "Bash(wget * | sh)",
      "Bash(eval *)",
      "Bash(sudo *)",
      "Bash(chmod 777 *)",
      "Bash(* > /dev/sda*)"
    ]
  },
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Write|Edit|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”' && echo 'ğŸ¯ PRE-IMPLEMENTATION VERIFICATION & SECURITY PROTOCOL' && echo 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”' && echo '' && FILE=$(cat | jq -r '.tool_input.file_path // .tool_input.path // empty') && echo \"ğŸ“ Target: $FILE\" && echo '' && echo 'ğŸ” MANDATORY VERIFICATION CHECKLIST:' && echo 'â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”' && echo 'â”‚ âœ“ Implementation MUST be FULLY FUNCTIONAL           â”‚' && echo 'â”‚ âœ“ NO mocks/stubs/simulations (unless test file)    â”‚' && echo 'â”‚ âœ“ Real API connections (not placeholders)          â”‚' && echo 'â”‚ âœ“ Actual data persistence (not in-memory only)     â”‚' && echo 'â”‚ âœ“ Complete error handling (not just happy path)    â”‚' && echo 'â”‚ âœ“ Production-ready code (not proof-of-concept)     â”‚' && echo 'â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜' && echo '' && echo 'ğŸ” SECURITY REQUIREMENTS:' && echo 'â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”' && echo 'â”‚ âš ï¸  NEVER hardcode credentials or secrets           â”‚' && echo 'â”‚ âš ï¸  Use environment variables for sensitive data    â”‚' && echo 'â”‚ âš ï¸  No API keys, passwords, or tokens in code       â”‚' && echo 'â”‚ âš ï¸  Validate and sanitize ALL user inputs           â”‚' && echo 'â”‚ âš ï¸  Use secure connection protocols (HTTPS/TLS)     â”‚' && echo 'â”‚ âš ï¸  Implement proper authentication & authorization â”‚' && echo 'â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜' && echo '' && if echo \"$FILE\" | grep -qE '(test|spec|mock)\\.' ; then echo 'ğŸ“ TEST FILE: Mocks/stubs acceptable'; else echo 'âš¡ PRODUCTION CODE: Must be REAL, SECURE & WORKING'; echo ''; echo 'ğŸš« REJECT IF YOU SEE:'; echo '   â€¢ Hardcoded: API_KEY=\"sk-...\"'; echo '   â€¢ Direct secrets: password=\"admin123\"'; echo '   â€¢ TODO/FIXME without implementation'; echo '   â€¢ return mockData or simulatedResponse'; echo '   â€¢ console.log with sensitive data'; echo '   â€¢ Unvalidated user inputs (SQL injection risk)'; echo '   â€¢ HTTP instead of HTTPS for APIs'; fi && echo '' && echo 'ğŸ“Š Initializing quality metrics...' && echo 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”'"
          },
          {
            "type": "command",
            "command": "if command -v npx >/dev/null 2>&1; then npx claude-flow@alpha verify init strict --threshold 0.95 2>/dev/null && echo 'âœ… Claude Flow verification: ACTIVE (95% threshold)' || echo 'âš ï¸  Claude Flow initialization pending'; fi"
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "CMD=$(cat | jq -r '.tool_input.command // empty') && if echo \"$CMD\" | grep -qE 'echo.*[>]{1,2}.*\\.env' || echo \"$CMD\" | grep -qE 'export.*(KEY|TOKEN|SECRET|PASSWORD)'; then echo 'âš ï¸  SECURITY WARNING: Potential secret exposure detected!'; echo '   Use proper secret management (e.g., dotenv, vault)'; fi"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Write|Edit|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "FILE=$(cat | jq -r '.tool_input.file_path // .tool_input.path // empty') && echo 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”' && echo 'âœ… POST-IMPLEMENTATION VERIFICATION & SECURITY REPORT' && echo 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”' && echo '' && echo \"ğŸ“ Modified: $FILE\" && echo \"ğŸ•’ Timestamp: $(date '+%Y-%m-%d %H:%M:%S')\" && echo '' && if echo \"$FILE\" | grep -qE '\\.(ts|js|tsx|jsx|py|java|go|rs)$' && ! echo \"$FILE\" | grep -qE '(test|spec|mock)'; then echo 'ğŸ” PRODUCTION CODE ANALYSIS:' && echo '' && SCORE=100 && ISSUES='' && echo 'ğŸ“‹ Functionality Checks:' && if grep -q 'TODO\\|FIXME\\|XXX' \"$FILE\" 2>/dev/null; then ISSUES=\"${ISSUES}  âŒ TODO/FIXME comments found\\n\" && SCORE=$((SCORE - 15)); else echo '  âœ“ No TODO/FIXME comments'; fi && if grep -q 'console\\.log' \"$FILE\" 2>/dev/null; then ISSUES=\"${ISSUES}  âš ï¸  console.log statements detected\\n\" && SCORE=$((SCORE - 5)); else echo '  âœ“ No console.log statements'; fi && if grep -qE 'mock|Mock|stub|Stub|fake|Fake|dummy|Dummy|placeholder|simulat' \"$FILE\" 2>/dev/null; then ISSUES=\"${ISSUES}  âŒ Possible mock/simulation detected\\n\" && SCORE=$((SCORE - 25)); else echo '  âœ“ No mocks or simulations'; fi && echo '' && echo 'ğŸ” Security Checks:' && if grep -qE '(api[_-]?key|apikey|api[_-]?secret|private[_-]?key|secret[_-]?key)[[:space:]]*=[[:space:]]*[\"'\\'''][^\"'\\''']+[\"'\\''']' \"$FILE\" 2>/dev/null; then ISSUES=\"${ISSUES}  ğŸš¨ CRITICAL: Hardcoded API key detected\\n\" && SCORE=$((SCORE - 30)); else echo '  âœ“ No hardcoded API keys'; fi && if grep -qE '(password|passwd|pwd)[[:space:]]*=[[:space:]]*[\"'\\'''][^\"'\\''']+[\"'\\''']' \"$FILE\" 2>/dev/null; then ISSUES=\"${ISSUES}  ğŸš¨ CRITICAL: Hardcoded password detected\\n\" && SCORE=$((SCORE - 30)); else echo '  âœ“ No hardcoded passwords'; fi && if grep -qE 'http://' \"$FILE\" 2>/dev/null && ! grep -qE 'http://localhost|http://127\\.0\\.0\\.1' \"$FILE\" 2>/dev/null; then ISSUES=\"${ISSUES}  âš ï¸  Insecure HTTP protocol used\\n\" && SCORE=$((SCORE - 10)); else echo '  âœ“ Secure protocols (HTTPS/TLS)'; fi && if grep -qE 'eval\\(|exec\\(' \"$FILE\" 2>/dev/null; then ISSUES=\"${ISSUES}  ğŸš¨ CRITICAL: eval/exec usage (injection risk)\\n\" && SCORE=$((SCORE - 25)); else echo '  âœ“ No dangerous eval/exec'; fi && if grep -qE 'process\\.env\\.' \"$FILE\" 2>/dev/null || grep -qE 'import.*dotenv|require.*dotenv' \"$FILE\" 2>/dev/null; then echo '  âœ“ Environment variables used properly'; else echo '  â„¹ï¸  Consider using env vars for configuration'; fi && echo '' && if [ -n \"$ISSUES\" ]; then echo 'âš ï¸  ISSUES DETECTED:' && echo -e \"$ISSUES\"; fi && echo \"ğŸ“Š QUALITY SCORE: ${SCORE}/100\" && if [ $SCORE -lt 95 ]; then echo 'ğŸš« BELOW THRESHOLD (95) - Review required!'; echo ''; echo 'ğŸ”§ REQUIRED ACTIONS:'; echo '  1. Fix all security issues immediately'; echo '  2. Replace mocks with real implementations'; echo '  3. Use environment variables for secrets'; echo '  4. Remove debug statements'; else echo 'âœ… MEETS QUALITY & SECURITY THRESHOLD'; fi; fi && echo 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”'"
          },
          {
            "type": "command",
            "command": "if command -v npx >/dev/null 2>&1; then FILE=$(cat | jq -r '.tool_input.file_path // .tool_input.path // empty') && echo '' && echo 'ğŸ”¬ Claude Flow Truth Verification:' && npx claude-flow@alpha truth --agent coder --threshold 0.95 2>/dev/null | head -5 || echo '  Analysis pending...'; npx claude-flow@alpha verify verify \"$FILE\" --threshold 0.95 --agent coder 2>/dev/null | grep -E 'Score:|Status:|Issues:' | head -5 || true; fi"
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "CMD=$(cat | jq -r '.tool_input.command // empty') && if echo \"$CMD\" | grep -qE '^(npm run test|npm test|jest|vitest|pytest)'; then echo '' && echo 'ğŸ§ª TEST RESULTS VERIFICATION:' && if command -v npx >/dev/null 2>&1; then npx claude-flow@alpha truth --report --agent tester 2>/dev/null | grep -E 'Coverage:|Passed:|Failed:' | head -5 || echo '  Test metrics unavailable'; fi; fi"
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": "manual",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”' && echo 'ğŸ”„ CONTEXT COMPACTION - MAINTAIN CRITICAL AWARENESS' && echo 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”' && echo '' && echo 'ğŸ¯ CORE PRINCIPLES (DO NOT FORGET):' && echo '  1. Real, verified, functional code only' && echo '  2. Truth threshold: 95% confidence' && echo '  3. NEVER hardcode secrets or credentials' && echo '  4. Complete implementations, no placeholders' && echo '  5. Security-first development approach' && echo '' && echo 'ğŸ” SECURITY CHECKLIST TO MAINTAIN:' && echo '  â€¢ All secrets in environment variables' && echo '  â€¢ Input validation on all user data' && echo '  â€¢ HTTPS/TLS for all external connections' && echo '  â€¢ No eval/exec with user input' && echo '  â€¢ Proper authentication & authorization' && echo '' && if command -v npx >/dev/null 2>&1; then echo 'ğŸ“Š Current System Metrics:' && npx claude-flow@alpha truth --json 2>/dev/null | jq -r '\"  Truth Score: \\(.averageScore // \"N/A\")\\n  Files Verified: \\(.filesAnalyzed // 0)\\n  Security Issues: \\(.securityIssues // 0)\"' 2>/dev/null || echo '  Metrics unavailable'; fi && echo 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”'"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "echo 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”' && echo 'ğŸ“Š SESSION SUMMARY - VERIFICATION & SECURITY REPORT' && echo 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”' && echo '' && if command -v npx >/dev/null 2>&1; then echo 'ğŸ“ˆ Session Metrics:' && npx claude-flow@alpha truth --report --json 2>/dev/null | jq -r '\"  Files Modified: \\(.filesAnalyzed // 0)\\n  Average Quality: \\(.averageScore // \"N/A\")\\n  Security Issues: \\(.securityIssues // 0)\\n  TODOs Remaining: \\(.todosFound // 0)\"' 2>/dev/null || echo '  Summary unavailable' && echo '' && npx claude-flow@alpha hooks session-end --generate-summary true --export-metrics true 2>/dev/null || true; else echo '  Claude Flow not available for metrics'; fi && echo '' && echo 'ğŸ” Security Reminder:' && echo '  Review all modified files for:' && echo '  â€¢ Hardcoded credentials' && echo '  â€¢ Unvalidated inputs' && echo '  â€¢ Insecure protocols' && echo '  â€¢ Debug statements with sensitive data' && echo 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”'"
          }
        ]
      }
    ]
  },
  "includeCoAuthoredBy": true,
  "enabledMcpjsonServers": ["claude-flow", "ruv-swarm", "flow-nexus"]
}